<div class="container">

<img class="img" src="http://www.fanthespark.com/wp-content/uploads/2016/03/Krishna_in_Vraja_1-3.jpg">


<h4 class="center"> He who is regulated in his habits of eating, sleeping, recreation and work can mitigate all material pains by practicing the yoga system. (BG 6.17) </h4>


<div class="title">Sādhanā Card</div>
<div class="sc_header">
  <div class="flex">
    <span class="name">Name: <%= current_user.name %> </span>
    <span class="name">Month/Year: <%= @month %> / <%= @year %> </span>
  </div>

  <% @sadhna_cards.each_slice(7).to_a.each do |cards| %>

    <div class="flex">
      <span class="name1-header"></span>
      <% cards.each do |c| %>
        <span class="cell-header"><%= c.date %> </span>
      <% end %>
    </div>

    <div class="flex">
      <span class="name1">Wake Up Time(Jīva Jāgo)</span>
      <% cards.each do |c| %>
        <span class="cell"><%= if c.wakeup then c.wakeup.strftime("%I:%M%p") else nil end %> </span>
      <% end %>
    </div>

    <div class="flex">
      <span class="name1">Japa (Number of Rounds)</span>
      <% cards.each do |c| %>
        <span class="cell"><%= c.japa_rounds %> </span>
      <% end %>
    </div>

    <div class="flex">
      <span class="name1">Reading (Number of pages or minutes)</span>
      <% cards.each do |c| %>
        <span class="cell">
          <%= ret = if c.reading_book.present? then c.reading_book + " " else "" end 
              ret += "("
              ret += if c.reading.present? then c.reading + " " + if c.reading_type.present? then c.reading_type else "mins" end else nil end
              ret += ")"
              ret
          %>
        </span>
      <% end %>
    </div>

    <div class="flex">
      <span class="name1">CHAD</span>
      <% cards.each do |c| %>
        <span class="cell"><%= get_chapter(c.chad) %> </span>
      <% end %>
    </div>

    <div class="flex">
      <span class="name1">Services (Time Engaged)</span>
      <% cards.each do |c| %>
        <span class="cell"><%= if c.service.present? then c.service + " mins" else "0 mins" end %> </span>
      <% end %>
    </div>

    <div class="flex">
      <span class="name1">Rest Time</span>
      <% cards.each do |c| %>
        <span class="cell"><%= if c.rest_time then c.rest_time.strftime("%I:%M%p") else nil end %> </span>
      <% end %>
    </div>

    <div class="flex">
      <span class="name1">Hearing(Sravana)</span>
      <% cards.each do |c| %>
        <span class="cell"><%= if c.hearing.present? then c.hearing + " mins" else "0 mins" end %> </span>
      <% end %>
    </div>

  <% end %>
  </div>


</div>

<style type="text/css">
  .center {
    text-align: center;
  }

  .title {
    background-color: red;
    color: white;
    height: 30px;
    text-align: center;
    font-size: 20px;
  }

  .name1 {
    width: 100%;
    padding: 10px 10px 10px 10px;
    border: 1px solid grey;
    font-weight: bold;
    background-color: #eaeaea;
    color: blue;
  }

  .name1-header {
    width: 100%;
    padding: 10px 10px 10px 10px;
    border: 1px solid grey;
    background-color: #eaeaea;
    font-weight: bold;
    color: blue;
  }

  .cell-header {
    width: 30%;
    padding: 10px 10px 10px 10px;
    border: 1px solid grey;
    background-color: #eaeaea;
    font-weight: bold;
    color: blue;
  }

  .cell {
    width: 30%;
    padding: 10px 10px 10px 10px;
    border: 1px solid grey;
    font-weight: bold;
  }


  .name {
    width: 50%;
    padding: 10px 10px 10px 10px;
    border: 1px solid grey;
    background-color: #eaeaea;
    font-weight: bold;
  }

  .flex {
    display: flex;
  }

  .img {
    width: 100%;
  }
</style>

