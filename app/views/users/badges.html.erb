<%= render 'sadhna_cards/header' %>

<div class="badges container">

<!--     <ul class="sc_list list-group">
      <label>Badges Awarded</label>
      <% if @unlocked_badges.count > 0 %>
        <% @unlocked_badges.each do |badge| %>
          <li class="list-group-item unlocked">
            <table>
              <td>
                <%= badge[0] %>
              </td>
              <td>
                <% if @level_1_badges.include?(badge) %>
                  <span class="level_1 glyphicon glyphicon-star"></span>
                <% elsif @level_2_badges.include?(badge) %>
                  <span class="level_2 glyphicon glyphicon-star"></span>
                <% else %>
                  <span class="level_3 glyphicon glyphicon-star"></span>
                <% end %>
              </td>
            </table>
          </li>
        <% end %>
      <% else %>
        <li class="list-group-item unlocked"> No badges awarded yet</li>
      <% end %>
    </ul> -->
  

  <ul class="sc_list list-group">

            
    <h4 class="level_1">Mathura Badges</h4>
    <br>

    <% if @level_1_badges.count {|x| x[1]} > 0 %>
          <label>Badges Awarded</label>
            <% @unlocked_badges.each do |badge| %>
              <% if @level_1_badges.include?(badge) %>
                <li class="list-group-item unlocked">
                  <table>
                    <td>
                      <%= badge[0] %>
                    </td>
                    <td>
                        <span class="perc"> 100% </span>
                    </td>
                    <td>
                      <span class="level_1 glyphicon glyphicon-star"></span>
                    </td>
                  </table>
                </li>
              <% end %>
            <% end %>
          <br>
    <% end %>
    <% level_1_locked_badges = @level_1_badges & @locked_badges 
       level_2_locked_badges = @level_2_badges & @locked_badges 
       level_3_locked_badges = @level_3_badges & @locked_badges 
    %>
      
    <% if level_1_locked_badges.count > 0 %>
          <label>Badges In Progress</label>
            <% @locked_badges.each do |badge| %>
              <% if @level_1_badges.include?(badge) %>
                <li class="list-group-item locked">
                  <table>
                    <td>
                      <%= badge[0] %>
                    </td>
                    <% if badge[2].present? %>
                      <td>
                        <span class="perc"> <%= badge[2] %>% </span>
                      </td>
                    <% end %>
                    <td>
                      <span class="glyphicon glyphicon-star-empty"></span>
                    </td>
                  </table>
                </li>
              <% end %>
            <% end %>
     <% else %>
      <label>You have achieved all Mathura badges</label>
     <% end %>
    
    <hr>
      
    <h4 class="level_2">Gokula Badges</h4>
    <br>
    <% if @level_2_badges.count {|x| x[1]} > 0 %>
            <label>Badges Awarded</label>
            <% @unlocked_badges.each do |badge| %>
              <% if @level_2_badges.include?(badge) %>
                <li class="list-group-item unlocked">
                  <table>
                    <td>
                      <%= badge[0] %>
                    </td>
                    <td>
                        <span class="perc"> 100% </span>
                    </td>                     
                    <td>
                      <span class="level_2 glyphicon glyphicon-star"></span>
                    </td>
                  </table>
                </li>
              <% end %>
            <% end %>
    <% end %>
    <br>
    <% if level_2_locked_badges.count > 0 %>
    <label>Badges In Progress</label>
      <% @locked_badges.each do |badge| %>
        <% if @level_2_badges.include?(badge) %>
          <li class="list-group-item locked">
            <table>
              <td>
                <%= badge[0] %>
              </td>
              <% if badge[2].present? %>
                <td>
                  <span class="perc"> <%= badge[2] %>% </span>
                </td>
              <% end %>      
              <td>
                <span class="glyphicon glyphicon-star-empty"></span>
              </td>
            </table>
          </li>
        <% end %>
      <% end %>
      <% else %>
      <label>You have achieved all Gokula badges</label>
     <% end %>
      <hr>
    
    <h4 class="level_3">Vrndavana Badges</h4>
    <br>
    <% if @level_3_badges.count {|x| x[1]} > 0 %>  
          <label>Badges Awarded</label>
            <% @unlocked_badges.each do |badge| %>
              <% if @level_3_badges.include?(badge) %>
                <li class="list-group-item unlocked">
                  <table>
                    <td>
                      <%= badge[0] %>
                    </td>
                    <td>
                        <span class="perc"> 100% </span>
                    </td>                     
                    <td>
                      <span class="level_3 glyphicon glyphicon-star"></span>
                    </td>
                  </table>
                </li>
              <% end %>
            <% end %>
    <% end %>
    <br>
    <% if level_3_locked_badges.count > 0 %>
    <label>Badges In Progress</label>
      <% @locked_badges.each do |badge| %>
        <% if @level_3_badges.include?(badge) %>
          <li class="list-group-item locked">
            <table>
              <td>
                <%= badge[0] %>
              </td>
              <% if badge[2].present? %>
                <td>
                  <span class="perc"> <%= badge[2] %>% </span>
                </td>
              <% end %>               
              <td>
                <span class="glyphicon glyphicon-star-empty"></span>
              </td>
            </table>
          </li>
        <% end %>
      <% end %>
   <% else %>
      <label>You have achieved all Vrndavana badges</label>
   <% end %>
  </ul>


<style type="text/css">
  .level_1{
    color: green;
  }
  .perc {
      color: green !important;      
  }

  .level_2{
    color: red;
  }
    
  .level_3{
    color: blue;
  }
  .badges td {
    padding-right: 5px;
    width: 80% !important;
  }

  



</style>
